#!/bin/bash
grep -r "Found" logs/general
grep -r "The size of the result sets mismatch" logs/general
grep "ERROR" logs/general/*.log | grep -v "not yet supported" | grep -v "does not exist" | grep -v "must have" | grep -v overflow | grep -v "invalid input" | grep -v "cannot be matched" | grep -v "implicitly casting" | grep -v "is not unique" | grep -v "invalid digit" | grep -v "is not defined" | grep -v "is defined" | grep -v "unterminated" | grep -v "Expected " | grep -v "Can't union types" | grep -v "type error in known global id" | grep -v "is out of range" | grep -v "of a negative" | grep -v "does not support" | grep -v "ANALYZE" | grep -v "is of type" | grep -v "must appear in the" | grep -v "negative substring length" | grep -v "is ambiguous" | grep -v "out of range" | grep -v "division by zero" | grep -v "is only defined for finite" | grep -v "cannot canonicalize predicates that are not of type" | grep -v "unexpected character in input" | grep -v "could not determine polymorphic type" | grep -v "cannot reference pseudo type" | grep -v "string is not a valid identifier" | grep -v "invalid regular expression" | grep -v " violates not-null constraint" | grep -v "could not convert type" | grep -v  "are not allowed" | grep -v "requires a record" | grep -v "unrecognized privilege type" | grep -v  "cannot cast" | grep -v "requires an OVER" | grep -v "value too long" | grep -v "may only refer to user-defined" | grep -v "cannot materialize call to" | grep -v "invalid hash algorithm" | grep -v "expected id" | grep -v "expected exactly one statement" | grep -v "regex parse error" | grep -v "invalid encoding name" | grep -v "must specify at least one capture group" | grep -v "requires a string literal" | grep -v "too large for encoding" | grep -v "must be a positive integer" | grep -v "bound must be less than" | grep -v "not recognized" | grep -v "invalid escape string" | grep -v "canceling statement due to statement timeout" | grep -v "invalid time zone" | grep -v "result exceeds max size" | grep -v "calls to mz_now in write statements"
docker logs materialized | grep ERROR | grep -v "detected a loop" | grep -v "caught a panic during query optimization" | grep -v INFO | grep -v "Undefined join of non-equal base types" | grep -v "failed writing row to mz_aws_connections" | grep -v "performed work after" | grep -v "cannot load unknown" | grep -v "**** WARNING ****" | grep -v "error handling connection: Broken pipe" | grep -v "pubsub connection err" | grep -v "relaunching in "
docker logs materialized | grep panicked | grep -v "overflowing.rs"
